---
  - name: Include global_vars
    include_vars:
      file: 'defaults/main.yml'
      name:  global_vars

  - debug:
      msg: "Home path {{ global_vars.home_path }}"

  - name: Check if java is installed
    stat:
      path={{global_vars.home_path}}/java
    register: java_present

  - debug:
      msg: "Java not Installed"
    when:  java_present.stat.exists


  - name: Check Java
    command: java  -version
      register: check_java
      ignore_errors: True
      changed_when: False

  - debug:
      msg: "Java not Installed"

#  - import_tasks: tasks/java_install.yml
#    when: not java_present.stat.exists
